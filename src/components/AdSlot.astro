---
// src/components/AdSlot.astro
// Slot publicitaire avec dimensions fixes pour eviter CLS
interface Props {
  slot: 'sidebar' | 'inline' | 'bottom';
  adClient?: string; // ca-pub-XXXXXXXXXX
}

const { slot, adClient = '' } = Astro.props;

const dimensions: Record<string, { width: string; height: string }> = {
  sidebar: { width: '300px', height: '250px' },
  inline: { width: '100%', height: '250px' },
  bottom: { width: '100%', height: '90px' },
};

const dim = dimensions[slot];
---

{adClient && (
  <div
    class="ad-slot flex items-center justify-center bg-gray-100 border border-gray-200 rounded my-6"
    style={`min-width: ${dim.width}; min-height: ${dim.height};`}
    data-ad-slot={slot}
  >
    <!-- AdSense ou Ezoic inserera la pub ici -->
    <ins
      class="adsbygoogle"
      style={`display:block; width:${dim.width}; height:${dim.height};`}
      data-ad-client={adClient}
      data-ad-slot={slot}
      data-ad-format="auto"
      data-full-width-responsive="true"
    ></ins>
  </div>
)}
